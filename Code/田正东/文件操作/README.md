# **第一的周项目**
---------------------------------------------------------
## 项目名称
- 实现自己的ls

---------------------------------------------------------
## 项目要求
- ls基础功能
- -a -l -R三个参数，并能随意组合
- 在所有目录下都能跑
---------------------------------------------------------
## 附加要求
- 增加别的参数，增加后还能随意组合
- 按文件类别不同输出颜色不同
- 等等（自由发挥）
---------------------------------------------------------
## 开发者
- 田正东

---------------------------------------------------------
## 项目环境
- Ubuntu 18.04(编辑器：vim)

---------------------------------------------------------
## 开发思路
- 解析输入参数，判断输入的参数中是否有目录或者文件，若有则打印参数中每个目录或文件的信息，若无则打印当前目录下的文件信息

---------------------------------------------------------
## 主要函数
- void error(const char*p,int line)

       函数功能：错误打印函数，打印出错所在行的行数和信息

- void mycolor(char *name,int color)

       函数功能：给显示的信息加上颜色，便于分类

- void getprintugrrwx(struct stat a,char *name,int color)

       函数功能：获取文件属性并打印

- void printwithoutl(char *name,int color)

       函数功能：若没有使用-l参数，打印一个文件名，打印时上下行对齐

- void inode(struct stat buf,char *name,int color)

       函数功能：打印文件inode号码

- void display(int flag,char *pathname)

       函数功能：根据命令行参数和完整路径名显示目标文件

- void display_dir(int flag_param,char *path)

       函数功能：为显示某个目录下的文件作准备

---------------------------------------------------------
## 函数流程
- 获取该目录下文件的总数和最长文件名
- 获取该目录下所有文件的文件名，存放于变量filenames中
- 使用冒泡法对文件名按照字母顺序排序，排序后文件名按照字母顺序存储于filenames中
- 动态数组和递归实现-R参数功能
- 调用函数void display(int flag,char *pathname)函数显示每个文件的信息

---------------------------------------------------------
## 功能展示
- 无参数


![无参数](https://wx2.sinaimg.cn/mw690/0078LA9Uly1ftrnugsw3bj30j102zjth.jpg)

- -a

![无参数](https://wx1.sinaimg.cn/mw690/0078LA9Uly1ftrnuh18ppj30ji030taw.jpg)

- -l

![无参数](https://wx4.sinaimg.cn/mw690/0078LA9Uly1ftrnuhe74wj30iv0b3qcv.jpg)

- -R

![无参数](https://wx4.sinaimg.cn/mw690/0078LA9Uly1ftrnuh9bqdj30iv08n443.jpg)

- -i

![无参数](https://wx3.sinaimg.cn/mw690/0078LA9Uly1ftrnugz9u6j30it04n784.jpg)

- 组合参数

![无参数](https://wx3.sinaimg.cn/mw690/0078LA9Uly1ftrnuhivicj30iu0ii4e0.jpg)

----------------------------------------------------------
## 总结
- 这是留校的第一个项目。我是按照书上的模板做的，因为用了动态数组递归，没有用链表，所以-R的参数一些文件很多的目录不能全部都显示，另外学长也提醒了动态数组如果释放不当会导致内存泄露的问题。本周项目的项目要求基本完成，但仍有很多不足之处，日后再加改进。在下一周的项目里争取做的更好。